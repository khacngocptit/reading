<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aptis Reading Part 4 - Practice</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 95%;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .progress-bar {
            background: rgba(255,255,255,0.3);
            height: 8px;
            border-radius: 4px;
            margin-top: 15px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: #4CAF50;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .topic-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 20px;
            background: #f5f5f5;
            border-bottom: 2px solid #ddd;
        }
        
        .topic-btn {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .topic-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }
        
        .topic-btn.active {
            background: #667eea;
            color: white;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 30px;
            min-height: 60vh;
        }
        
        .conversation-section {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 10px;
            overflow-y: auto;
            max-height: 70vh;
        }
        
        .conversation-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 22px;
        }
        
        .topic-title {
            font-size: 20px;
            color: #764ba2;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .person-speech {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-left: 4px solid #667eea;
            border-radius: 5px;
        }
        
        .person-name {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 8px;
        }
        
        .highlight {
            background: yellow;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        .questions-section {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 10px;
            overflow-y: auto;
            max-height: 70vh;
        }
        
        .questions-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 22px;
        }
        
        .question-item {
            background: white;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 2px solid #ddd;
        }
        
        .question-text {
            font-weight: bold;
            margin-bottom: 12px;
            color: #333;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .option {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-weight: 600;
        }
        
        .option:hover {
            border-color: #667eea;
            background: #f0f0ff;
        }
        
        .option.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .option.correct {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }
        
        .option.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            padding: 20px 30px;
            justify-content: center;
            background: #f5f5f5;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-check {
            background: #667eea;
            color: white;
        }
        
        .btn-check:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102,126,234,0.3);
        }
        
        .btn-next {
            background: #4CAF50;
            color: white;
        }
        
        .btn-next:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76,175,80,0.3);
        }
        
        .btn-translate {
            background: #FF9800;
            color: white;
        }
        
        .btn-translate:hover {
            background: #F57C00;
            transform: translateY(-2px);
        }
        
        .btn-highlight {
            background: #9C27B0;
            color: white;
        }
        
        .btn-highlight:hover {
            background: #7B1FA2;
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .result-message {
            padding: 15px;
            margin: 20px 30px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            font-size: 18px;
        }
        
        .result-message.success {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }
        
        .result-message.error {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }
        
        .translation {
            background: #fff3cd;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
            border-left: 4px solid #FF9800;
            display: none;
        }
        
        .translation.show {
            display: block;
        }
        
        .translation-text {
            color: #856404;
            font-style: italic;
        }

        .tips-section {
            background: #e3f2fd;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
            border-left: 4px solid #2196F3;
        }

        .tips-title {
            color: #1976D2;
            font-weight: bold;
            margin-bottom: 8px;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Aptis Reading Part 4 - Practice</h1>
            <p>Luy·ªán t·∫≠p 18 ch·ªß ƒë·ªÅ | C√¢u h·ªèi "Who"</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        
        <div class="topic-selector" id="topicSelector"></div>
        
        <div class="main-content">
            <div class="conversation-section">
                <h2>üìñ Conversation</h2>
                <div id="conversationContent"></div>
            </div>
            
            <div class="questions-section">
                <h2>‚ùì Questions</h2>
                <div id="questionsContent"></div>
            </div>
        </div>
        
        <div id="resultMessage"></div>
        
        <div class="button-group">
            <button class="btn btn-highlight" onclick="toggleHighlight()">üñçÔ∏è Highlight Key Points</button>
            <button class="btn btn-translate" onclick="toggleTranslation()">üåê D·ªãch</button>
            <button class="btn btn-check" onclick="checkAnswers()" id="checkBtn">‚úì Ki·ªÉm tra</button>
            <button class="btn btn-next" onclick="nextQuestion()" id="nextBtn" style="display:none;">‚Üí C√¢u ti·∫øp theo</button>
        </div>
    </div>

    <script>
        const topics = {
            "Lifestyle & Daily Life": [
                {
                    id: 1,
                    title: "eating and cooking",
                    conversations: [
                        {
                            person: "Cecilia",
                            text: "As a child, I always enjoyed eating with friends, whether it was at family gatherings or simple meals after school. Sharing food was a way for me to bond with people, and it still brings back happy memories. I believe that the company makes the meal more enjoyable, and it turns into a special occasion."
                        },
                        {
                            person: "Benigo",
                            text: "A few years ago, I used to eat out a lot, but I realized I needed to save money on eating. Now, I prefer to eat alone, where I can enjoy my meal in peace without distractions. Eating alone allows me to focus on the taste and quality of the food without the need for conversation."
                        },
                        {
                            person: "Gloria",
                            text: "Going to a restaurant is exciting because I like a wide variety of food, and I'm always eager to try new dishes from different cultures. I'm also taking a cookery course to improve it, so I can recreate some of my favorite meals at home and expand my culinary knowledge."
                        },
                        {
                            person: "Alon",
                            text: "Fast food is nowhere near as good as home-cooked food because it feels healthier and more comforting than eating out. However, I just eat a few types of food, sticking to familiar dishes that I know I'll enjoy. I'm not very adventurous when it comes to trying new things, but I appreciate the comfort of my favorite meals."
                        }
                    ],
                    questions: [
                        { question: "1. Who needs to save money on eating?", answer: "Ben" },
                        { question: "2. Who likes a wide variety of food?", answer: "Glo" },
                        { question: "3. Who prefers to eat home-cooked food?", answer: "Alon" },
                        { question: "4. Who enjoys eating with friends?", answer: "Ceci" },
                        { question: "5. Who only eats a few types of food?", answer: "Alon" },
                        { question: "6. Who is taking a cookery course?", answer: "Gloria" },
                        { question: "7. Who prefers to eat alone?", answer: "Ben" }
                    ],
                    tips: "M·∫πo ghi nh·ªõ: Ben ti·∫øt ki·ªám ƒÉn m·ªôt m√¨nh | Gloria th√≠ch ƒëa d·∫°ng v√† h·ªçc n·∫•u ƒÉn | Alon √≠t m√≥n, th√≠ch ƒë·ªì nh√† | Cecilia th√≠ch ƒÉn c√πng b·∫°n b√®"
                },
                {
                    id: 2,
                    title: "visit a city (ƒê√É S·ª¨A)",
                    conversations: [
                        {
                            person: "Person A",
                            text: "I love to the city last summer and I really like the atmosphere there. When it is hot, there are lots of live performances that take place outside the department stores. It prevents me from going inside and spending money. I was surprised coming home from my last bags, and the reason of the last performance."
                        },
                        {
                            person: "Person B",
                            text: "When I go out, I have only two things to care about: good food and good play. I especially like to have lunch in Stevenson. It surprised me that it's expensive and I have to walk a long way to get there. However, I still had a pleasant day."
                        },
                        {
                            person: "Person C",
                            text: "When I first came to the city, it surprised me how big it was. I was worried about getting around. The city has many parts, and the shopping part is very far from the green part. However, we were given the bus routes and we took a day ticket. The bus worked out very cheaply, and I felt lucky not to have to put any pressure on my sore feet."
                        },
                        {
                            person: "Person D",
                            text: "I don't like big cities because of the crowds. However, I love going to Stevenson four or five times a year. There is an area outside the city where I often spend time relaxing. There is a lot of water, a small forest, and special picnic spots. They offer good services like cafes."
                        }
                    ],
                    questions: [
                        { question: "1. Who visits one part of the city?", answer: "Person D" },
                        { question: "2. Who liked the public transport that the city has?", answer: "Person A" },
                        { question: "3. Who usually spends a lot of money on shopping?", answer: "Person A" },
                        { question: "4. Who paid a lot for their meal?", answer: "Person B" },
                        { question: "5. Who thought the public transport system was good?", answer: "Person C" },
                        { question: "6. Who thought walking too much causes a problem?", answer: "Person C" },
                        { question: "7. Who likes the natural resort here?", answer: "Person D" }
                    ],
                    tips: "Person A - bi·ªÉu di·ªÖn ngo√†i tr·ªùi, shopping | Person B - ƒÉn ƒë·∫Øt ·ªü Stevenson | Person C - xe bus ti·ªán, s·ª£ ƒëau ch√¢n | Person D - kh√¥ng th√≠ch ƒë√¥ng, th√≠ch khu picnic"
                },
                {
                    id: 3,
                    title: "sports - doing exercise",
                    conversations: [
                        {
                            person: "Person A",
                            text: "Having a gym by our side can help us when we just don't feel motivated to exercise. Quite often in this situation, we don't need expert assistance at the local gym. We just need a little extra encouragement from someone who knows us and understands how to motivate us. Afterwards, we can discuss our aching muscles, and it's a great opportunity to enjoy a nutritious meal together. This also plays a role in restoring energy to our bodies."
                        },
                        {
                            person: "Person B",
                            text: "As we get older, it's easier to forget things. This is especially true when it comes to working out, particularly when it gets difficult. By this, I don't mean preparing for things like long-distance events, but rather the routines and workouts we do regularly. To truly gain from these, they need to be done frequently, and ideally at the same time each day. In this way, it becomes an enjoyable and healthy routine."
                        },
                        {
                            person: "Person C",
                            text: "The body and the relationship we have with it change with time. When we're older, things simply aren't how they was in our younger years. These days, it doesn't mean that people should stop being active. Of course, the need to compete or bend is less physically demanding than we did in school. Older adults simply don't need to compete or get hurt by the extra energy that young people often have."
                        },
                        {
                            person: "Person D",
                            text: "The whole motivation behind doing sport is the benefit for the body. Some people with unhealthy ideas want to lose weight, so they constantly push themselves to the extreme. Perspectives on fitness, including frequency and intensity, have evolved. However, it's better to pay attention to what your body is telling you and take a balanced approach. If you're uncertain, consult a trainer at the local fitness center."
                        }
                    ],
                    questions: [
                        { question: "1. Who thinks a routine can help us do more sport?", answer: "Person B" },
                        { question: "2. Who thinks experiencing pain is not necessary?", answer: "Person D" },
                        { question: "3. Who thinks competitions are not useful for everybody?", answer: "Person C" },
                        { question: "4. Who thinks working out with a friend is a good idea?", answer: "Person A" },
                        { question: "5. Who thinks exercise is for both the young and the elderly?", answer: "Person C" },
                        { question: "6. Who thinks eating proper food is very important?", answer: "Person A" },
                        { question: "7. Who thinks that at times we should seek expert advice?", answer: "Person D" }
                    ],
                    tips: "Person A - t·∫≠p v·ªõi b·∫°n, ƒÉn u·ªëng t·ªët | Person B - routine ƒë·ªÅu ƒë·∫∑n | Person C - kh√¥ng c·∫ßn thi ƒë·∫•u, m·ªçi l·ª©a tu·ªïi | Person D - l·∫Øng nghe c∆° th·ªÉ, t∆∞ v·∫•n chuy√™n gia"
                },
                {
                    id: 8,
                    title: "a new restaurant",
                    conversations: [
                        {
                            person: "Person A",
                            text: "The menu I read has a lot of good reviews online, and I decided to try it out. The prices are reasonable, and the food is good and varied. My favorite part is the starters‚Äîthere are so many things that I don't know what to choose from. My only criticism is the noise level. The live show was excellent, but the volume was a bit low; they should turn it up next time. Despite that, I enjoyed the food and the show overall."
                        },
                        {
                            person: "Person B",
                            text: "I'm not sure if I'll return to it. The staff seemed like they had just had an argument, making the atmosphere unpleasant. Maybe they had a rough day. I ordered fish and chips. It is not bad, but not good either. People said this restaurant was excellent, but my experience might be an exception."
                        },
                        {
                            person: "Person C",
                            text: "I was looking forward to visiting this restaurant, but my first visit left me certain I won't come back. The staff wasn't friendly at all, and while the meal was huge, it made me question whether that was a good sign. The traditional style of the food didn't match the modern d√©cor, creating an odd experience that I don't want to repeat. Additionally, the food was too expensive."
                        },
                        {
                            person: "Person D",
                            text: "The newspaper I saw has lots of appetizing food. Unfortunately, on the day I arrived, I was late, so I couldn't experience much. However, the drinks here were great. I tried a mango drink, and it was delicious. The background music was just right, and the food matched the atmosphere perfectly. Overall, it was great. I'll definitely come back on time next time to try their food."
                        }
                    ],
                    questions: [
                        { question: "1. Who will definitely not come back to the restaurant again?", answer: "Person C" },
                        { question: "2. Who was impressed by the range of the appetizers?", answer: "Person A" },
                        { question: "3. Who didn't eat anything?", answer: "Person D" },
                        { question: "4. Who enjoyed the atmosphere of the restaurant?", answer: "Person D" },
                        { question: "5. Who thinks the quality of the food is average?", answer: "Person B" },
                        { question: "6. Who thinks their bad experience was probably unusual?", answer: "Person B" },
                        { question: "7. Who thinks the music was too quiet?", answer: "Person A" }
                    ],
                    tips: "Person A - th√≠ch khai v·ªã, nh·∫°c nh·ªè | Person B - kh√¥ng ch·∫Øc quay l·∫°i, ƒë·ªì b√¨nh th∆∞·ªùng | Person C - kh√¥ng quay l·∫°i, kh√¥ng th√¢n thi·ªán, ƒë·∫Øt | Person D - ƒë·∫øn mu·ªôn, th√≠ch ƒë·ªì u·ªëng v√† kh√¥ng kh√≠"
                },
                {
                    id: 9,
                    title: "reading books (ƒê√É S·ª¨A)",
                    conversations: [
                        {
                            person: "Person A",
                            text: "I used to struggle to finish a book we were expected to read. Now, I read for my own pleasure. I usually don't limit myself to getting 1 at a time. There are so many titles I can choose from that get me excited. I have a list of books I hope to get to in the future."
                        },
                        {
                            person: "Person B",
                            text: "I often keep a book on the bedside table to read before going to sleep. The struggle is, I get tired halfway through the first page, and I fall asleep. I've been reading that one book for half a year, but have only read chapter 6. However, when I read factual books, I find them very interesting, and it keeps me awake for hours to finish."
                        },
                        {
                            person: "Person C",
                            text: "My job requires me to read many books. They are full of facts, statistics and are really dull. I can't imagine reading them with pleasure. I would prefer something light, such as mystery novels or comedies. When the trains to work, with my child, I don't have other opportunities. Therefore, a book can last me a week."
                        },
                        {
                            person: "Person D",
                            text: "My wife often complains about not having time to read. I tell her to make the time. I often calculate my free time reading books. I know in advance whether I should read a book or do other things, as long as I can finish many books. My wife laughs at me about that, but it's not the problem."
                        }
                    ],
                    questions: [
                        { question: "1. Who thinks reading factual books is boring?", answer: "Person C" },
                        { question: "2. Who reads more than another family member?", answer: "Person D" },
                        { question: "3. Who has limited time for reading?", answer: "Person C" },
                        { question: "4. Who has difficulty finishing a book?", answer: "Person B" },
                        { question: "5. Who reads many books at once?", answer: "Person A" },
                        { question: "6. Who plans the reading schedule?", answer: "Person D" },
                        { question: "7. Who wants to read a lot of books?", answer: "Person A" }
                    ],
                    tips: "Person A - ƒë·ªçc nhi·ªÅu s√°ch c√πng l√∫c, c√≥ danh s√°ch | Person B - ƒë·ªçc truy·ªán ng·ªß, m·∫•t 6 th√°ng m·ªõi ƒë∆∞·ª£c chap 6 | Person C - s√°ch c√¥ng vi·ªác nh√†m, √≠t th·ªùi gian | Person D - l√™n l·ªãch ƒë·ªçc, v·ª£ ph√†n n√†n"
                }
            ],
            "Travel & Holidays": [
                {
                    id: 4,
                    title: "going on holiday",
                    conversations: [
                        {
                            person: "Person A",
                            text: "Many people say that the beach is boring, but I disagree. It depends, such as the sun, that's why I have to go abroad. This year, my friend invited me to go mountain climbing, but I said no. I think I'd try it someday in the future."
                        },
                        {
                            person: "Person B",
                            text: "Normally, I just travel somewhere near my house. I would walk. Not because I enjoy it, but because I don't have the money to buy a car. If I have money, I would travel abroad. It's my first time."
                        },
                        {
                            person: "Person C",
                            text: "I went mountain climbing last trip, but it was a disaster. However, I finished walking to see the beautiful landscapes. That's how I took up walking. However, I'm now retired. Travelling away is stressful. I would prefer something nearby."
                        },
                        {
                            person: "Person D",
                            text: "I keep a map of famous places. I would travel and take pictures of these places. Lying on the beach, however, is boring. I don't know why people spend time doing such dull things."
                        }
                    ],
                    questions: [
                        { question: "Who likes seeing tourist attractions?", answer: "Person D" },
                        { question: "Who thinks going to the beach is boring?", answer: "Person D" },
                        { question: "Who prefers to stay at home?", answer: "Person C" },
                        { question: "Who likes going walking?", answer: "Person C" },
                        { question: "Who thinks a holiday requires good weather?", answer: "Person A" },
                        { question: "Who wants to go mountain climbing?", answer: "Person A" },
                        { question: "Who has never been abroad?", answer: "Person B" }
                    ],
                    tips: "Person A - th√≠ch bi·ªÉn, t·ª´ ch·ªëi leo n√∫i | Person B - ch∆∞a ƒëi n∆∞·ªõc ngo√†i, kh√¥ng c√≥ ti·ªÅn | Person C - v·ªÅ h∆∞u, th√≠ch ƒëi b·ªô g·∫ßn nh√† | Person D - ch·ª•p ·∫£nh danh lam, kh√¥ng th√≠ch bi·ªÉn"
                },
                {
                    id: 5,
                    title: "visit an island",
                    conversations: [
                        {
                            person: "Ali",
                            text: "I like traveling to the beach. I think I have to walk quite a distance from the hotel to the beach, so I think I have to bring boots. however, when I opened the suitcase, I didn't see any boots. (1) But I still completed the trip and saw many beautiful places. The beaches are in remote areas, so there are very few tourists. However, it also makes finding food and drinks more difficult. (2) Bruno: The island shops, I have always liked building things, and when I travel, I never spend time lying on the beach or buying souvenirs. I will go around the area to see the architecture of the houses. I chose to go around by taxi, and it was great. However, it cost me a lot because I traveled alone and had no one to share the costs with. But for me, this was still a great experience because I got to see many old houses."
                        },
                        {
                            person: "Carla",
                            text: "The sharp rocks of the island made me abandon the idea of renting a car because it was very dangerous. I decided to take the bus, which was also much cheaper. However, the bus routes are quite few and there are many time constraints. (1) We toured the neighborhoods on foot. I loved this experience because I could admire the sights. (2)"
                        },
                        {
                            person: "Deniz",
                            text: "There's a lot of food here, and I spend most of my time eating. I can't recommend any of the dishes because they are all very impressive. (1) If you want to cook for yourself, you will have to take the bus to the market. Don't forget to visit the street market because they sell a lot of local products. I have a lot of good bargains there. (2)"
                        }
                    ],
                    questions: [
                        { question: "1. Who forgot to bring something?", answer: "Ali" },
                        { question: "2. Who liked to be alone?", answer: "Ali" },
                        { question: "3. Who loved eating food here?", answer: "Deniz" },
                        { question: "4. Who liked buying things on the island?", answer: "Deniz" },
                        { question: "5. Who spent a lot of money on transport?", answer: "Bruno" },
                        { question: "6. Who thought public transport could be improved?", answer: "Carla" },
                        { question: "7. Who liked to walk?", answer: "Carla" }
                    ],
                    tips: "Ali - qu√™n boots, √≠t kh√°ch du l·ªãch | Bruno - th√≠ch ki·∫øn tr√∫c, taxi ƒë·∫Øt m·ªôt m√¨nh | Carla - xe bus √≠t, ƒëi b·ªô ng·∫Øm c·∫£nh | Deniz - ƒÉn nhi·ªÅu, ch·ª£ r·∫ª"
                },
                {
                    id: 6,
                    title: "Opinions on flying",
                    conversations: [
                        {
                            person: "Person A",
                            text: "I have a dream that I will work as a tour guide. So I understand that I will have to fly abroad. Flying has developed, even though it is not environmentally friendly. Still, the ticket prices are just too cheap. Personally, I believe that we should add taxes to airplane tickets to encourage people to use other forms of transport. These taxes can be used to support environmental conservation campaigns."
                        },
                        {
                            person: "Person B",
                            text: "My family live far away from me, so I often fly to visit them three or four times a year. We really appreciate the time we spend together, and we are happy to be able to meet each other and share new stories. I know that flying causes much environmental damage, but I think I am doing a good balance. I carefully manage my energy use. For example, I buy locally produced food, use second-hand clothes, and reuse plastic bags."
                        },
                        {
                            person: "Person C",
                            text: "I used to travel frequently as I work in a business trade. I had to fly to other countries every early June. However, that must stop now because I am busy with passengers. Waiting at the airport is always annoying and noisy, and I need a quiet place to concentrate. Not only that, a flight - you will need to check-in in a hotel. That's how I have discovered the pleasure of a comfortable and stress-free journey. Now, I am retired, and my sister and I often have a long train ride together every three weeks as a hobby."
                        },
                        {
                            person: "Person D",
                            text: "People often find it strange that I dislike flying. I am working as a travel writer, so the travel industry is my life. And of course, flying too frequently will cause us to do a lot, which can make people exhausted."
                        }
                    ],
                    questions: [
                        { question: "1. Who tries to protect the environment?", answer: "Person B" },
                        { question: "2. Who likes relaxing while they travel?", answer: "Person C" },
                        { question: "3. Who finds flying tiring?", answer: "Person D" },
                        { question: "4. Who needs to fly for their work?", answer: "Person D" },
                        { question: "5. Who suggests making flights more expensive?", answer: "Person A" },
                        { question: "6. Who wants to work in other countries?", answer: "Person A" },
                        { question: "7. Who visits relatives regularly?", answer: "Person B" }
                    ],
                    tips: "Person A - mu·ªën l√†m h∆∞·ªõng d·∫´n vi√™n, tƒÉng thu·∫ø v√© m√°y bay | Person B - bay thƒÉm gia ƒë√¨nh, c√¢n b·∫±ng m√¥i tr∆∞·ªùng | Person C - v·ªÅ h∆∞u, th√≠ch t√†u h·ªèa h∆°n m√°y bay | Person D - nh√† vƒÉn du l·ªãch, bay nhi·ªÅu m·ªát"
                }
            ],
            "Technology & Modern Life": [
                {
                    id: 7,
                    title: "new station",
                    conversations: [
                        {
                            person: "Yulan",
                            text: "The city planners say that there is a need to build a new station. Personally, I don't see the trains regularly, but when I do, there are often so many on the bus services, which I use to go to the hospital, are just the same."
                        },
                        {
                            person: "Moussa",
                            text: "I take the train to work every day, and I am tired of the overcrowded trains. I can't even find a seat, and there are so many people on the train every day that services are no better. I think the new station will make a big difference."
                        },
                        {
                            person: "Liam",
                            text: "The city planners promised money for building a hospital. Now they say that they need to build a new station to improve the bus and train service. I don't think it may require a whole annual budget and leave no money to invest in health facilities. Personally, I believe there should be more money for improving medical services."
                        },
                        {
                            person: "Emia",
                            text: "The new station will be in the residential area, close to the hospital and university. We already have buses for getting around, and even though they might be slow sometimes, that's not a reason to build a new train station. It will cost far too much to build as I always work on my schedule. I think people should do the same."
                        }
                    ],
                    questions: [
                        { question: "1. Who thinks that people should plan their journey better?", answer: "Emia" },
                        { question: "2. Who thinks that public transport doesn't need to be improved?", answer: "Yulan" },
                        { question: "3. Who thinks that the bus has good service?", answer: "Yulan" },
                        { question: "4. Who thinks that the public transport is too busy?", answer: "Moussa" },
                        { question: "5. Who thinks that the station will improve train travel?", answer: "Moussa" },
                        { question: "6. Who thinks that better medical facilities are needed?", answer: "Liam" },
                        { question: "7. Who thinks that the station will cost too much to build?", answer: "Liam" }
                    ],
                    tips: "Yulan - kh√¥ng th·∫•y c·∫ßn ga m·ªõi, xe bus t·ªët | Moussa - t√†u ƒë√¥ng, ga m·ªõi c·∫£i thi·ªán | Liam - ti·ªÅn n√™n cho y t·∫ø h∆°n | Emia - xe bus ƒë·ªß, ga m·ªõi t·ªën k√©m"
                },
                {
                    id: 10,
                    title: "Technology",
                    conversations: [
                        {
                            person: "Person A",
                            text: "I moved to a new country, and it is challenging to stay in touch with relatives, but thanks to technology, I can now easily connect with my family. I view technology as the reason, and I believe many people nowadays depend on it too. It makes sense, and I have no issues with that. Technology has made staying connected much easier for all of us."
                        },
                        {
                            person: "Person B",
                            text: "I work in finance, and it is normal for me to use technology to update international banking information. However, looking at a screen for too long makes my eyes hurt. Also, using my phone for extended periods before bedtime affects my sleep, so I avoid it 9 p.m. to ensure a good night's rest."
                        },
                        {
                            person: "Person C",
                            text: "Our family uses technology a lot. My sister called Mom even inside the house! Although my dad told me to use my phone all the time. I use it anyway. I find it convenient to watch movies and listen to music. I also use it to play games with friends. My friends always have the most advanced technology. They always buy the latest one like me. I don't want to fall behind them."
                        },
                        {
                            person: "Person D",
                            text: "I'm a professional painter, which is not traditionally connected to technology, but perhaps I will use it more in the future. I have a laptop at home. Whenever I use it, my daughter becomes really annoyed as I have to keep it locked away. Although some of my friends even on letting children be exposed to technology, I think it would have an effect on their brain development."
                        }
                    ],
                    questions: [
                        { question: "1. Who uses technology to communicate with family?", answer: "Person A" },
                        { question: "2. Who believes that people depend too much on technology?", answer: "Person A" },
                        { question: "3. Who advises against using technology before going to bed?", answer: "Person B" },
                        { question: "4. Who uses technology for work purposes?", answer: "Person B" },
                        { question: "5. Who uses technology for entertainment?", answer: "Person C" },
                        { question: "6. Who buys the latest technology products?", answer: "Person C" },
                        { question: "7. Who thinks children shouldn't use technology?", answer: "Person D" }
                    ],
                    tips: "Person A - k·∫øt n·ªëi gia ƒë√¨nh, ng∆∞·ªùi ta ph·ª• thu·ªôc nhi·ªÅu | Person B - c√¥ng vi·ªác t√†i ch√≠nh, tr√°nh tr∆∞·ªõc ng·ªß | Person C - gi·∫£i tr√≠, mua c√¥ng ngh·ªá m·ªõi nh·∫•t | Person D - h·ªça sƒ©, tr·∫ª em kh√¥ng n√™n d√πng"
                }
            ],
            "Entertainment & Media": [
                {
                    id: 11,
                    title: "Film",
                    conversations: [
                        {
                            person: "Person A",
                            text: "A friend recommended the film because she had read the novel. I thought it was excellent, and I was captivated by the plot throughout, even though it was lengthy. Some of the actors were outstanding, and the scenes where the zombies were finally defeated were amazing. The only thing I didn't like was my choice of viewing location. I should have gone earlier‚ÄîI would have felt safer on the big screen."
                        },
                        {
                            person: "Person B",
                            text: "This was a sequel, and I hadn't seen the prior film, so I had to admit I felt completely lost. I'm pleased I had company, though. Luckily, my friend was able to explain what the characters were. There were some aspects I liked‚Äîthe special effects, for example, were impressive, and the soundtrack was lovely. I would definitely recommend it to people who don't feeling scared, but personally, I prefer them not to make more thriller and romantic movies in the future."
                        },
                        {
                            person: "Person C",
                            text: "Unfortunately, it wasn't as good as I expected. The written version was terrifying but also thrilling. However, I ended up feeling bored while watching the film. The acting was rather uninspiring, and two and a half hours was excessive. I reckon the story could have been told in far less time. It was definitely better to read it page than on the big screen. Furthermore, cinema tickets are so costly these days. To be honest, I wish I hadn't wasted my money!"
                        },
                        {
                            person: "Person D",
                            text: "This was actually my second time watching it, but even though I knew what to expect, I still felt scared whenever a zombie attack happened. The direction really makes it feel like you are right there in the room with the characters. Being in the room at the end didn't make it easier! I was so relieved when my friend called after I got home so that I could chat about ordinary things and forget about it. Otherwise, I might have had nightmares!"
                        }
                    ],
                    questions: [
                        { question: "A: + Who watched the film at home?", answer: "" },
                        { question: "+ Who liked the story of the film?", answer: "" },
                        { question: "B: + Who saw the film with a friend?", answer: "" },
                        { question: "C: + Who thought the film was too long?", answer: "" },
                        { question: "+ Who has read the book about the film?", answer: "" },
                        { question: "D: + Who saw the film previously?", answer: "" },
                        { question: "+ Who found the film scary?", answer: "" }
                    ],
                    tips: "Person A - b·∫°n gi·ªõi thi·ªáu, di·ªÖn vi√™n t·ªët, ƒë·ªãa ƒëi·ªÉm xem kh√¥ng ph√π h·ª£p | Person B - ph·∫ßn ti·∫øp theo, hi·ªáu ·ª©ng ƒë·∫πp, nh·∫°c hay | Person C - ch√°n, d√†i, l√£ng ph√≠ ti·ªÅn | Person D - l·∫ßn 2, v·∫´n s·ª£, g·ªçi b·∫°n sau khi v·ªÅ"
                },
                {
                    id: 12,
                    title: "Music festival",
                    conversations: [
                        {
                            person: "Person A",
                            text: "This is my first time going to a concert. I didn't feel very well during the first two days because it was raining and the music was just of average. It would have been much nicer if there had been some sunshine. Fortunately, the final day was wonderful, and I was able to meet my favorite singers and create unforgettable memories."
                        },
                        {
                            person: "Person B",
                            text: "I attend music festivals every year. It has become a tradition for me, as I truly love the lively atmosphere filled with people and music. This festival, however, felt rather unusual. The weather was not ideal, but that didn't really bother me, since I have been to rain-free festivals and still had fun. The location was only somewhat convenient, and the music was quite average. Honestly, I don't think I will return in the future."
                        },
                        {
                            person: "Person C",
                            text: "I don't like one particular type of music being played at festivals. I prefer an album with a mix of genres to dance to, and this show really met my expectations. The melodies performed were simply astonishing. I did not think it was full of life, let alone all that. In fact, I felt sad to see so many people lively. However, I noticed that the ticket price was rather high, and not many students could afford it. Personally, I had to save money for months before attending."
                        },
                        {
                            person: "Person D",
                            text: "My band and I were invited to play at this festival. We gave our usual performance and were able to create a memorable show. Some of our old members were there, along with artists we had collaborated with in the past. It was wonderful catching up with them after the event. Unfortunately, the venue was far from the main road, and transporting our equipment was quite difficult."
                        }
                    ],
                    questions: [
                        { question: "Who is disappointed with the weather?", answer: "Person A" },
                        { question: "Who didn't like the festival?", answer: "Person B" },
                        { question: "Who enjoyed all the music at the music event?", answer: "Person C" },
                        { question: "Who likes meeting old friends?", answer: "Person D" },
                        { question: "Who enjoyed the final day of the music event?", answer: "Person A" },
                        { question: "Who thought traffic was difficult?", answer: "Person D" },
                        { question: "Who thought the event was expensive?", answer: "Person C" }
                    ],
                    tips: "Person A - l·∫ßn ƒë·∫ßu, th·ªùi ti·∫øt x·∫•u 2 ng√†y ƒë·∫ßu | Person B - h√†ng nƒÉm, l·∫ßn n√†y kh√¥ng hay | Person C - th√≠ch ƒëa d·∫°ng, v√© ƒë·∫Øt | Person D - ban nh·∫°c bi·ªÉu di·ªÖn, g·∫∑p b·∫°n c≈©, giao th√¥ng kh√≥"
                }
            ],
            "Life Experiences & Personal Growth": [
                {
                    id: 13,
                    title: "childhood",
                    conversations: [
                        {
                            person: "Person A",
                            text: "As a child, I spent hours playing board games with my friends. The rules were pretty straightforward and easy to understand. As I grew older, I thought it would be a great chance for families to bond in this way. However, modern board games were much harder, with so many rules and characters to choose from. Although I did have great fun with my two sons at times, I was still a bit of doubt about how to play."
                        },
                        {
                            person: "Person B",
                            text: "I preferred to play outdoors with my friends when I was small. I was lucky. The weather where we lived was usually nice, so we often ran around and chased each other in the field. Sometimes, we lay on the grass and made funny faces. All of these memories were just wonderful, and they made me realize how much I enjoy being around people. Even today, I'm grateful to say many of them are still my friends."
                        },
                        {
                            person: "Person C",
                            text: "I wasn't able to move much as a child and even now. I mostly stayed at home since I don't have many friends. I was drawn to books and preferred reading in my free time. There was much in stories that I loved to read. Now, I wish I had gone out more as I used to, but I don't go out very often either. Instead, I spend time on my computer, where I can play games. I prefer interactive ones because they let me socialize with people online."
                        },
                        {
                            person: "Person D",
                            text: "I have always enjoyed arts and crafts. When I was young, as it often was, I was looking out of my window and hoped it would stop. There wasn't much I could do inside the house. My parents often gave me books, but I never liked sitting stills and reading. Until one day my mother brought me a box full of art supplies - that's when I saw them. I could spend hours just staring at a blank canvas, wondering what to draw next. Now I wish I could find more outdoor activities there was another thing I loved‚Äîpainting."
                        }
                    ],
                    questions: [
                        { question: "- Who enjoyed playing games with their children?", answer: "Person A" },
                        { question: "- Who thought childhood games were much simpler?", answer: "Person A" },
                        { question: "- Who enjoyed playing with their friends as a child?", answer: "Person B" },
                        { question: "- Who enjoyed reading books as a child?", answer: "Person C" },
                        { question: "- Who wishes he/ she could play outdoors?", answer: "Person D" },
                        { question: "- Who enjoyed doing arts as a child?", answer: "Person D" }
                    ],
                    tips: "Person A - ch∆°i board game, tr√≤ hi·ªán ƒë·∫°i kh√≥ | Person B - ch∆°i ngo√†i tr·ªùi, b·∫°n b√® t·ªõi gi·ªù | Person C - √≠t b·∫°n, th√≠ch ƒë·ªçc s√°ch, gi·ªù ch∆°i game | Person D - th√≠ch v·∫Ω, √≠t ho·∫°t ƒë·ªông ngo√†i tr·ªùi"
                },
                {
                    id: 14,
                    title: "Extreme sports",
                    conversations: [
                        {
                            person: "Person A",
                            text: "For me, the most important thing about extreme sports is preparation. Many people think it's just about excitement and bravery, but it starts with proper training. Without good training, you can easily cause accidents for other people. I once joined a rock-climbing course, and I spent weeks learning how to tie the essential knots for safety. In my opinion, the real climb was much more enjoyable because I felt confident. I believe training is not only useful but also makes the whole experience less stressful and more rewarding."
                        },
                        {
                            person: "Person B",
                            text: "I have always preferred traditional sports such as swimming and running because they keep me healthy without being too dangerous. Still, I wanted to see what extreme sports felt like, so last year I tried bungee jumping while on holiday. At first, I was extremely nervous, but when I finally jumped, the feeling was incredible. It gave me a thrill that swimming never could. Even so, I still practice swimming every week because it's safer and more practical, but I admit that extreme sports can be fun if you try them at least once."
                        },
                        {
                            person: "Person C",
                            text: "Honestly, I don't understand why people do extreme sports. They seem very risky and unnecessary to me. I have played sports most of my life, and I don't see any reason to risk injury or even worse. Some of my friends tried snowboarding and paragliding, but I always said no. It's not that I don't like sports‚ÄîI enjoy cycling and tennis‚Äîbut I don't see the point of doing something so risky just for a few seconds of excitement. In my opinion, extreme sports are not important for a happy life, and I avoid them whenever possible."
                        },
                        {
                            person: "Person D",
                            text: "What I really enjoy about extreme sports is that they often take place in nature. Last summer, I went kayaking on a wild river, and the scenery was breathtaking. I also tried mountain biking in the forest, and I loved the feeling of being outdoors, away from the busy city. For me, it's not just about speed or danger‚Äîit's about being surrounded by mountains, trees, and water. I sometimes wish I had more free time and money so that I could join these activities more often. Extreme sports give me energy and help me feel connected to the natural world."
                        }
                    ],
                    questions: [
                        { question: "1. Who thinks preparation is necessary before doing extreme sports?", answer: "Person A" },
                        { question: "2. Who usually does ordinary sports?", answer: "Person B" },
                        { question: "3. Who once tried an extreme sport and enjoyed it?", answer: "Person B" },
                        { question: "4. Who enjoys being outdoors when doing extreme sports?", answer: "Person D" },
                        { question: "5. Who wishes to do more extreme sports in the future?", answer: "Person D" },
                        { question: "6. Who believes extreme sports are not important?", answer: "Person C" },
                        { question: "7. Who always avoids extreme sports?", answer: "Person C" }
                    ],
                    tips: "Person A - chu·∫©n b·ªã quan tr·ªçng, leo n√∫i | Person B - b∆°i ch·∫°y b√¨nh th∆∞·ªùng, nh·∫£y bungee th√≠ch | Person C - kh√¥ng hi·ªÉu t·∫°i sao, qu√° r·ªßi ro | Person D - th√≠ch thi√™n nhi√™n, kayaking, xe ƒë·∫°p"
                },
                {
                    id: 15,
                    title: "Career (M·ªõi)",
                    conversations: [
                        {
                            person: "Person A",
                            text: "When I finished school, some people told me that I should get a job immediately. However, I wanted to gain some hands-on experience first. That's why I applied for a volunteer programme which lasted for three months. Even though I didn't receive any payment, it was quite beneficial. I was able to work in different fields. Looking back, I don't regret my choice at all because of all the knowledge I gained."
                        },
                        {
                            person: "Person B",
                            text: "I went straight to university after I graduated from high school. I have always wanted to become a teacher, so it was pointless to try any other professions. Three months ago, I went on an internship at a local school. It was definitely a mind-changing experience, because the workload was a bit more than I expected. Still, I would say it was very valuable. - did not want to change to other careers - enjoyed working when training"
                        },
                        {
                            person: "Person C",
                            text: "As a child, I lived near a plumber and worked with her. She gave me simple tasks like checking for any pipe leaks or securing the nails with a screw. It was natural for me later on to go to university to become an electrician, as I wanted to study something practical. After that, I know they provide compact electrical courses online. I wish I had enrolled in them instead. - enjoyed doing things with their hands - thinks their training was too long"
                        },
                        {
                            person: "Person D",
                            text: "After school, I wanted some time to figure out what I wanted to do. Therefore, I searched for temporary positions. However, it wasn't easy to reach a deal because companies didn't want someone with no prior experience. In the end, a game company reached out to me and I agreed to work with them. It was a hybrid position, so sometimes I worked late in the evenings, but it didn't cause any problems for me. - enjoyed working in a flexible work environment - thinks it was hard to get the first job"
                        }
                    ],
                    questions: [
                        { question: "- Who enjoyed working when training?", answer: "Person B" },
                        { question: "- did not want to change to other careers", answer: "Person B" },
                        { question: "- enjoyed doing things with their hands", answer: "Person C" },
                        { question: "- thinks their training was too long", answer: "Person C" },
                        { question: "- enjoyed working in a flexible work environment", answer: "Person D" },
                        { question: "- thinks it was hard to get the first job", answer: "Person D" }
                    ],
                    tips: "Person A - t√¨nh nguy·ªán kh√¥ng l∆∞∆°ng 3 th√°ng, nhi·ªÅu lƒ©nh v·ª±c | Person B - ƒë·∫°i h·ªçc l√†m gi√°o vi√™n, th·ª±c t·∫≠p nhi·ªÅu vi·ªác | Person C - s·ªëng g·∫ßn th·ª£ s·ª≠a ·ªëng n∆∞·ªõc, h·ªçc ƒëi·ªán, mu·ªën h·ªçc online | Person D - t√¨m vi·ªác t·∫°m, c√¥ng ty game, hybrid"
                }
            ],
            "Community & Social Activities": [
                {
                    id: 16,
                    title: "volunteering to clean a local park",
                    conversations: [
                        {
                            person: "Person A",
                            text: "I just have too much work, so I don't have much free time for myself. This tight schedule makes it impossible for me to join the local park cleaning event. I work six days, and on weekends I go out as on weekends with my family. We usually visit the park to play games and take a walk. I am relieved to hear that the park will be cleaned by the children volunteering from the school nearby. I believe these experiences will benefit them in the future, helping them share skills needed for their future careers."
                        },
                        {
                            person: "Person B",
                            text: "I adore the gorgeous scenery and fresh air at the park. Therefore, I always bring my family to the park to relax. My husband and I are willing to do some volunteer work, so I will ask my husband to help but since he usually doesn't do much anyway. I will make specific plans for everyone in the neighborhood to follow so the park can be cleaned in no time."
                        },
                        {
                            person: "Person C",
                            text: "The park plays an important role in teaching children about responsibility through volunteering. Cleaning the local park not only helps keep the environment clean but also teaches kids the value of teamwork and dedication. We admire their efforts to protect nature, whether it's picking up trash or planting flowers. Volunteering is a great way for children to improve their skills and mindset while making a positive impact on our community."
                        },
                        {
                            person: "Person D",
                            text: "This is a reminder that not just the park, but other areas in our town also need regular cleaning. Keeping our neighborhoods clean is important for a healthy environment. The community should work together to organize cleaning events more often, as ignoring trash can harm wildlife and make the area unpleasant. By joining these efforts, residents can take pride in their surroundings and make sure everyone has a nice place to enjoy."
                        }
                    ],
                    questions: [
                        { question: "1. Who thinks the park is a beautiful place to relax?", answer: "Person B" },
                        { question: "2. Who can't clean the park because of their busy work?", answer: "Person A" },
                        { question: "3. Who will ask others to help?", answer: "Person B" },
                        { question: "4. Who thinks cleaning should happen regularly?", answer: "Person D" },
                        { question: "5. Who thinks volunteering is important for children?", answer: "Person C" },
                        { question: "6. Who thinks other local areas need cleaning?", answer: "Person D" },
                        { question: "7. Who thinks volunteering can help with future employment?", answer: "Person A" }
                    ],
                    tips: "Person A - b·∫≠n, tr·∫ª t√¨nh nguy·ªán t·ªët cho t∆∞∆°ng lai | Person B - y√™u c√¥ng vi√™n, r·ªß gia ƒë√¨nh, l·∫≠p k·∫ø ho·∫°ch | Person C - d·∫°y tr·∫ª tr√°ch nhi·ªám | Person D - khu kh√°c c≈©ng c·∫ßn d·ªçn, t·ªï ch·ª©c th∆∞·ªùng xuy√™n"
                },
                {
                    id: 17,
                    title: "art",
                    conversations: [
                        {
                            person: "Person A",
                            text: "I know the names of some famous artists, and I recognize some paintings. However, I only go to exhibitions when my friends want to. If I'm being honest, while I do have some artistic techniques myself, I enjoy painting in my free time, but I prefer to create rather than just observe."
                        },
                        {
                            person: "Person B",
                            text: "I think that looking at art is a personal experience. I much prefer to see art on my own, where I can take my time to appreciate each piece without distractions. I think visitors to galleries should focus more on the art itself rather than chatting or using their phones. When I'm alone with a painting, I can truly connect with it and reflect on what the artist intended."
                        },
                        {
                            person: "Person C",
                            text: "I find art fascinating. I have developed a good knowledge of various art movements and techniques over the years. Each piece tells a story, and I love discovering the history behind them. The colors, forms, and emotions captured in art pieces captivate my imagination. I could spend hours discussing and analyzing art, and I always look forward to learning more."
                        },
                        {
                            person: "Person D",
                            text: "I have great memories associated with art, as I have been going to numerous art exhibitions throughout my whole life. I cherish the moments spent with friends and family, exploring galleries together. Seeing art with people close to me adds a special dimension to the experience; we share our thoughts and feelings about the pieces we encounter. These shared experiences have created lasting bonds and wonderful memories."
                        }
                    ],
                    questions: [
                        { question: "1. Who thinks seeing an exhibition is boring?", answer: "Person A" },
                        { question: "2. Who prefers seeing exhibitions by themselves?", answer: "Person B" },
                        { question: "3. Who has good knowledge about art?", answer: "Person C" },
                        { question: "4. Who thinks that visitors to the galleries should focus more on the art?", answer: "Person B" },
                        { question: "5. Who prefers going to art exhibitions with other people?", answer: "Person D" },
                        { question: "6. Who has been going to art exhibitions all their life?", answer: "Person D" },
                        { question: ". Who has some artistic skills?", answer: "Person A" }
                    ],
                    tips: "Person A - bi·∫øt v√†i h·ªça sƒ©, th√≠ch v·∫Ω h∆°n xem | Person B - th√≠ch xem m·ªôt m√¨nh, t·∫≠p trung | Person C - hi·ªÉu bi·∫øt s√¢u ngh·ªá thu·∫≠t | Person D - ƒëi tri·ªÉn l√£m su·ªët ƒë·ªùi, v·ªõi b·∫°n b√® gia ƒë√¨nh"
                }
            ]
        };

        let currentCategory = "Lifestyle & Daily Life";
        let currentTopicIndex = 0;
        let userAnswers = {};
        let isChecked = false;
        let highlightEnabled = false;
        let translationEnabled = false;

        function initApp() {
            renderTopicSelector();
            loadTopic(currentCategory, currentTopicIndex);
        }

        function renderTopicSelector() {
            const selector = document.getElementById('topicSelector');
            selector.innerHTML = '';
            
            Object.keys(topics).forEach(category => {
                const categoryBtn = document.createElement('button');
                categoryBtn.className = 'topic-btn';
                categoryBtn.textContent = category;
                categoryBtn.onclick = () => {
                    currentCategory = category;
                    currentTopicIndex = 0;
                    loadTopic(category, 0);
                    updateActiveButton();
                };
                selector.appendChild(categoryBtn);
            });
            updateActiveButton();
        }

        function updateActiveButton() {
            const buttons = document.querySelectorAll('.topic-btn');
            buttons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent === currentCategory) {
                    btn.classList.add('active');
                }
            });
        }

        function loadTopic(category, index) {
            const topic = topics[category][index];
            userAnswers = {};
            isChecked = false;
            highlightEnabled = false;
            translationEnabled = false;
            
            document.getElementById('checkBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('resultMessage').innerHTML = '';
            
            renderConversation(topic);
            renderQuestions(topic);
            updateProgress();
        }

        function renderConversation(topic) {
            const container = document.getElementById('conversationContent');
            let html = `<div class="topic-title">üìå Topic: ${topic.title}</div>`;
            
            topic.conversations.forEach(conv => {
                html += `
                    <div class="person-speech">
                        <div class="person-name">${conv.person}:</div>
                        <div class="speech-text">${conv.text}</div>
                    </div>
                `;
            });
            
            if (topic.tips) {
                html += `
                    <div class="tips-section">
                        <div class="tips-title">üí° M·∫πo ghi nh·ªõ:</div>
                        <div>${topic.tips}</div>
                    </div>
                `;
            }
            
            container.innerHTML = html;
        }

        function renderQuestions(topic) {
            const container = document.getElementById('questionsContent');
            let html = '';
            
            topic.questions.forEach((q, index) => {
                const persons = ['Person A', 'Person B', 'Person C', 'Person D'];
                html += `
                    <div class="question-item">
                        <div class="question-text">${q.question}</div>
                        <div class="options">
                            ${persons.map(person => `
                                <div class="option" onclick="selectAnswer(${index}, '${person}')" data-question="${index}" data-person="${person}">
                                    ${person}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function selectAnswer(questionIndex, person) {
            if (isChecked) return;
            
            userAnswers[questionIndex] = person;
            
            document.querySelectorAll(`[data-question="${questionIndex}"]`).forEach(opt => {
                opt.classList.remove('selected');
            });
            
            document.querySelector(`[data-question="${questionIndex}"][data-person="${person}"]`).classList.add('selected');
        }

        function checkAnswers() {
            const topic = topics[currentCategory][currentTopicIndex];
            const totalQuestions = topic.questions.length;
            
            if (Object.keys(userAnswers).length < totalQuestions) {
                alert('Vui l√≤ng tr·∫£ l·ªùi t·∫•t c·∫£ c√°c c√¢u h·ªèi!');
                return;
            }
            
            let correct = 0;
            
            topic.questions.forEach((q, index) => {
                const correctAnswer = q.answer;
                const userAnswer = userAnswers[index];
                const options = document.querySelectorAll(`[data-question="${index}"]`);
                
                options.forEach(opt => {
                    const person = opt.getAttribute('data-person');
                    if (person === correctAnswer) {
                        opt.classList.add('correct');
                    }
                    if (person === userAnswer && userAnswer !== correctAnswer) {
                        opt.classList.add('incorrect');
                    }
                });
                
                if (userAnswer === correctAnswer) {
                    correct++;
                }
            });
            
            isChecked = true;
            
            const resultDiv = document.getElementById('resultMessage');
            const percentage = ((correct / totalQuestions) * 100).toFixed(0);
            
            if (percentage >= 80) {
                resultDiv.innerHTML = `<div class="result-message success">üéâ Xu·∫•t s·∫Øc! B·∫°n ƒë√∫ng ${correct}/${totalQuestions} c√¢u (${percentage}%)</div>`;
            } else {
                resultDiv.innerHTML = `<div class="result-message error">üìö C·∫ßn c·ªë g·∫Øng th√™m! B·∫°n ƒë√∫ng ${correct}/${totalQuestions} c√¢u (${percentage}%)</div>`;
            }
            
            document.getElementById('checkBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
        }

        function nextQuestion() {
            const categoryTopics = topics[currentCategory];
            
            if (currentTopicIndex < categoryTopics.length - 1) {
                currentTopicIndex++;
            } else {
                const categories = Object.keys(topics);
                const currentCategoryIndex = categories.indexOf(currentCategory);
                
                if (currentCategoryIndex < categories.length - 1) {
                    currentCategory = categories[currentCategoryIndex + 1];
                    currentTopicIndex = 0;
                } else {
                    alert('üéä Ch√∫c m·ª´ng! B·∫°n ƒë√£ ho√†n th√†nh t·∫•t c·∫£ c√°c ch·ªß ƒë·ªÅ!');
                    currentCategory = categories[0];
                    currentTopicIndex = 0;
                }
            }
            
            loadTopic(currentCategory, currentTopicIndex);
            updateActiveButton();
        }

        function toggleHighlight() {
            highlightEnabled = !highlightEnabled;
            
            const topic = topics[currentCategory][currentTopicIndex];
            const container = document.getElementById('conversationContent');
            
            if (highlightEnabled) {
                let html = `<div class="topic-title">üìå Topic: ${topic.title}</div>`;
                
                topic.conversations.forEach(conv => {
                    let highlightedText = conv.text;
                    
                    // Highlight key phrases based on answers
                    topic.questions.forEach(q => {
                        if (conv.person.includes(q.answer) || q.answer.includes(conv.person.split(' ')[1])) {
                            const keywords = extractKeywords(conv.text);
                            keywords.forEach(keyword => {
                                if (keyword.length > 3) {
                                    highlightedText = highlightedText.replace(
                                        new RegExp(`(${keyword})`, 'gi'),
                                        '<span class="highlight">$1</span>'
                                    );
                                }
                            });
                        }
                    });
                    
                    html += `
                        <div class="person-speech">
                            <div class="person-name">${conv.person}:</div>
                            <div class="speech-text">${highlightedText}</div>
                        </div>
                    `;
                });
                
                if (topic.tips) {
                    html += `
                        <div class="tips-section">
                            <div class="tips-title">üí° M·∫πo ghi nh·ªõ:</div>
                            <div>${topic.tips}</div>
                        </div>
                    `;
                }
                
                container.innerHTML = html;
            } else {
                renderConversation(topic);
            }
        }

        function extractKeywords(text) {
            const words = text.match(/\b[A-Z][a-z]+(?:\s+[a-z]+)*\b|\b[a-z]+ing\b/g) || [];
            return [...new Set(words)];
        }

        function toggleTranslation() {
            translationEnabled = !translationEnabled;
            
            const topic = topics[currentCategory][currentTopicIndex];
            const container = document.getElementById('conversationContent');
            
            if (translationEnabled) {
                let html = `<div class="topic-title">üìå Topic: ${topic.title}</div>`;
                
                topic.conversations.forEach(conv => {
                    const translation = getVietnameseTranslation(conv.person, topic.title);
                    html += `
                        <div class="person-speech">
                            <div class="person-name">${conv.person}:</div>
                            <div class="speech-text">${conv.text}</div>
                            <div class="translation show">
                                <div class="translation-text">üáªüá≥ ${translation}</div>
                            </div>
                        </div>
                    `;
                });
                
                if (topic.tips) {
                    html += `
                        <div class="tips-section">
                            <div class="tips-title">üí° M·∫πo ghi nh·ªõ:</div>
                            <div>${topic.tips}</div>
                        </div>
                    `;
                }
                
                container.innerHTML = html;
            } else {
                renderConversation(topic);
            }
        }

        function getVietnameseTranslation(person, topicTitle) {
            // Simplified translation mapping - in real app, this would be more comprehensive
            const translations = {
                "eating and cooking": {
                    "Cecilia": "Khi c√≤n nh·ªè, t√¥i lu√¥n th√≠ch ƒÉn c√πng b·∫°n b√®. Chia s·∫ª b·ªØa ƒÉn gi√∫p t√¥i g·∫Øn b√≥ v·ªõi m·ªçi ng∆∞·ªùi.",
                    "Benigo": "Tr∆∞·ªõc ƒë√¢y t√¥i hay ƒÉn ngo√†i, nh∆∞ng gi·ªù th√≠ch ƒÉn m·ªôt m√¨nh ƒë·ªÉ ti·∫øt ki·ªám ti·ªÅn.",
                    "Gloria": "T√¥i th√≠ch th·ª≠ nhi·ªÅu m√≥n ƒÉn kh√°c nhau v√† ƒëang h·ªçc n·∫•u ƒÉn ƒë·ªÉ m·ªü r·ªông ki·∫øn th·ª©c ·∫©m th·ª±c.",
                    "Alon": "ƒê·ªì ƒÉn nh√† ngon h∆°n ƒë·ªì ƒÉn nhanh, nh∆∞ng t√¥i ch·ªâ ƒÉn v√†i lo·∫°i m√≥n quen thu·ªôc."
                }
                // Add more translations for other topics...
            };
            
            return translations[topicTitle]?.[person] || "B·∫£n d·ªãch ƒëang ƒë∆∞·ª£c c·∫≠p nh·∫≠t...";
        }

        function updateProgress() {
            const allTopicsCount = Object.values(topics).reduce((sum, cat) => sum + cat.length, 0);
            const completedCount = Object.keys(topics).reduce((sum, cat, catIndex) => {
                const categoryIndex = Object.keys(topics).indexOf(currentCategory);
                if (catIndex < categoryIndex) {
                    return sum + topics[cat].length;
                } else if (catIndex === categoryIndex) {
                    return sum + currentTopicIndex;
                }
                return sum;
            }, 0);
            
            const progress = (completedCount / allTopicsCount) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // Initialize app when page loads
        window.onload = initApp;
    </script>
</body>
</html>